<!-- src/app/components/provider-form/provider-form.html -->
<form [formGroup]="providerForm" (ngSubmit)="onSubmit()" class="space-y-4">
  <div class="grid grid-cols-2 gap-4">
    <div class="form-group">
      <label for="name">Nombre del proveedor</label>
      <input 
        type="text" 
        id="name" 
        formControlName="name"
        placeholder="Ej: Servicios Técnicos S.A."
        class="{{ providerForm.get('name')?.invalid && providerForm.get('name')?.touched ? 'border-danger' : '' }}">
      @if (providerForm.get('name')?.invalid && providerForm.get('name')?.touched) {
        <div class="text-sm text-danger mt-1">Nombre requerido (1-100 caracteres)</div>
      }
    </div>

    <!-- Teléfono -->
    <div class="form-group">
      <label for="phone">Teléfono</label>
      <input 
        type="text" 
        id="phone" 
        formControlName="phone"
        placeholder="9988776655"
        class="{{ providerForm.get('phone')?.invalid && providerForm.get('phone')?.touched ? 'border-danger' : '' }}">
      @if (providerForm.get('phone')?.invalid && providerForm.get('phone')?.touched) {
        <div class="text-sm text-danger mt-1">
          @if (providerForm.get('phone')?.errors?.['required']) {
            Teléfono es requerido.
          } @else if (providerForm.get('phone')?.errors?.['pattern']) {
            Debe ser exactamente 10 dígitos numéricos.
          }
        </div>
      }
    </div>
  </div>
  <div class="form-group">
    <label for="contactEmail">Email de contacto</label>
    <input 
      type="email" 
      id="contactEmail" 
      formControlName="contactEmail"
      placeholder="ejemplo@dominio.com"
      class="{{ providerForm.get('contactEmail')?.invalid && providerForm.get('contactEmail')?.touched ? 'border-danger' : '' }}">
    @if (providerForm.get('contactEmail')?.invalid && providerForm.get('contactEmail')?.touched) {
      <div class="text-sm text-danger mt-1">
        @if (providerForm.get('contactEmail')?.errors?.['required']) {
          Email es requerido.
        } @else if (providerForm.get('contactEmail')?.errors?.['pattern']) {
          Formato inválido (debe incluir @ y .com, .mx, etc.).
        }
      </div>
    }
  </div>

  <div class="form-group">
    <label class="flex items-center gap-2 cursor-pointer">
      <input 
        type="checkbox" 
        formControlName="isActive"
        class="w-4 h-4 text-primary-500 rounded">
      <span class="text-sm text-gray-700 "> Proveedor activo / </span>
      @if (providerForm.get('isActive')?.value) {
        <span class="badge badge-success ml-2"> Recibiendo solicitudes</span>
      } @else {
        <span class="badge badge-warning ml-2"> No disponible</span>
      }
    </label>
  </div>

  <div class="flex items-center justify-end gap-3 pt-4 border-t border-gray-200">
    <button type="button" class="btn btn-secondary" (click)="cancelForm()">
      Cancelar
    </button>
    <button type="submit" class="btn btn-primary" [disabled]="providerForm.invalid || isSubmitting">
      @if (isSubmitting) {
        <span class="animate-spin inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"></span>
        Guardando...
      } @else {
        {{ providerToEdit ? 'Guardar cambios' : 'Crear proveedor' }}
      }
    </button>
  </div>
</form>